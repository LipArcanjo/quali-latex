% Authors: Nelson Lago, Arthur Del Esposte and Eduardo Zambom Santana
% Portions of the example contents: Arthur Del Esposte
% This file is distributed under the MIT Licence

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% PREÂMBULO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% A língua padrão é a última citada
\documentclass[brazilian,english]{article}

% Vários pacotes e opções de configuração genéricos
\usepackage{imegoodies}
\usepackage[poster]{imelooks}
\usepackage[poster,skins]{tcolorbox}
\usepackage{evenragged}
\evenRaggedRight

\hidelinks % desabilita cor/sublinhado dos links (URLs, refs etc.)

% Diretórios onde estão as figuras; com isso, não é necessário (mas
% é permitido) colocar o caminho completo em \includegraphics. Note
% que a extensão nunca é necessária (mas é permitida), ou seja, o
% resultado é o mesmo com "\includegraphics{figuras/foto.jpeg}",
% "\includegraphics{foto.jpeg}", "\includegraphics{figuras/foto}"
% ou "\includegraphics{foto}".
\graphicspath{{figuras/},{fig/},{logos/},{img/},{images/},{imagens/}}

% Comandos rápidos para mudar de língua:
% \en -> muda para o inglês
% \br -> muda para o português
% \texten{blah} -> o texto "blah" é em inglês
% \textbr{blah} -> o texto "blah" é em português
\babeltags{br = brazilian, en = english}

\input{extras/source-code}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% METADADOS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% O arquivo com os dados bibliográficos para biblatex; você pode usar
% este comando mais de uma vez para acrescentar múltiplos arquivos
\addbibresource{bibliografia.bib}

% Este comando permite acrescentar itens à lista de referências sem incluir
% uma referência de fato no texto (pode ser usado em qualquer lugar do texto)
%\nocite{bronevetsky02,schmidt03:MSc, FSF:GNU-GPL, CORBA:spec, MenaChalco08}
% Com este comando, todos os itens do arquivo .bib são incluídos na lista
% de referências
%\nocite{*}

%\title[CCSL]{An example poster using \LaTeX{}\\by CCSL-IME/USP}
%
%\institute{Department of Computer Science --- University of São Paulo}
%
%\author[ccsl@ime.usp.br]{\textbf{ccsl.ime.usp.br}}
%
%\date{Month and day, year}
%
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% INÍCIO DO POSTER %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\geometry{a1paper,left=1.5cm,right=1.5cm,top=0cm,bottom=0cm}
\renewcommand*\familydefault{\sfdefault}
\definecolor{InterSCity}{HTML}{00998C}
\definecolor{DarkInterSCity}{HTML}{0D6D65}
\definecolor{PastelGreen}{HTML}{73937E}

\definecolor{imeblue}{RGB}{20,45,105}
\definecolor{imeyellow}{RGB}{230,175,60}
\definecolor{imered}{RGB}{130,20,60}
\definecolor{imesoftblue}{RGB}{0,100,160}

\definecolor{DarkRed}{HTML}{872718}
\definecolor{Blackish}{HTML}{232830}
\definecolor{SandyPaper}{HTML}{FFFCE2}

\makeatletter
% Os triângulos ficam de tamanhos diferentes com pdflatex e lualatex;
% para contornar isso, vamos (1) redimensionar para o tamanho do
% \strut e (2) redimensionar para o tamanho desejado.
\newcommand\@IMEcharscale[2]{%
    \bgroup
    \scalebox{#1}{\resizebox*{!}{\totalheightof{\strut}}{#2}}%
    \egroup
}

\newcommand{\footimage}[1]{\def\footim@ge{#1}}
\def\insertfootimage{
    \ifdefined\footim@ge
    \tikz[overlay,remember picture]
    \node[anchor=south east,inner sep=12pt] at (current page.south east)
    {\footim@ge};
  \fi
}


\setlist{
}

\setlist[itemize,1]{
    left = 0pt .. .8em,
    label={\color{imeblue}\raisebox{.1em}{\@IMEcharscale{.26}{\ensuremath{\blacktriangleright}}}}
}
\setlist[itemize,2]{
    before*={\footnotesize},
    left = -5pt .. .8em,
    label={\color{imeblue}\raisebox{-.1em}{\@IMEcharscale{.4}{\ensuremath{\bullet}}}}
}
\setlist[itemize,3]{
    before*={\footnotesize\itshape},
    left = -1pt .. .95em,
    label={\color{imeblue}\raisebox{.05em}{\@IMEcharscale{.3}{\normalfont\textbf{\guillemotright}}}}
}
\makeatother

%% Optional foot image
\footimage{\includegraphics[width=13cm]{ccsl-logo}}

\setstretch{1.1}
\renewcommand\bibfont{\scriptsize}
\parindent=0pt

\begin{document}

% Em um poster não há \maketitle

\begin{tcbposter}[
  no coverage,
  fontsize = 32pt,
  poster = {
    %showframe,
    rows = 6,
    % Queremos ter algumas coisas divididas em 1, 2, 3 e 4 colunas;
    % o mínimo múltiplo comum é 12.
    columns = 12,
    colspacing = 1.2cm,
    rowspacing = .8cm,
  },
  boxes = {
    colframe = imesoftblue,
    colback = SandyPaper,
    fonttitle = \large,
    top=.3\baselineskip,
    bottom=.3\baselineskip,
    toptitle=.1\baselineskip,
    bottomtitle=.1\baselineskip,
    left=.4\baselineskip,
    right=.6\baselineskip,
    valign=center,
    skin=enhanced,
  }
]

\tcbsubskin{titlebox}{enhanced}{colback=imeblue, coltext=white, borderline south={15pt}{0pt}{imeyellow}, boxsep=10mm, grow sidewards by = 2.3cm}
\tcbsubskin{footer}{enhanced}{colback=imesoftblue, coltext=white, boxsep=4mm, left=30pt, borderline north={15pt}{0pt}{imeyellow}, grow sidewards by = 2.3cm}

\posterbox[skin=titlebox]
          {name=title, column=1, row=1, span=12, rowspan=.5, below = top}{

    \huge
    \rmfamily\bfseries
    \centering
    An example poster using \LaTeX{}\\
    by CCSL-IME/USP
}

\posterbox[skin=footer]{name=footer, column=1, above=bottom, span=12}{
    \rmfamily\bfseries\large
    ccsl.ime.usp.br\par
    \vspace{4pt}
    \small\ttfamily
    ccsl@ime.usp.br\par
    \vspace{4pt}
    \footnotesize\rmfamily
    \textcolor{imesoftblue!30!white}{Department of Computer Science --- University of São Paulo}\relax
    \insertfootimage\par
    \vspace{-.4\baselineskip}
}




\posterbox[adjusted title = {The CCSL logo (full width)}, left*=.8\baselineskip, right*=.8\baselineskip, top=.8\baselineskip, bottom=.8\baselineskip]
          {name=widelogo, column = 1, below=title, span = 12}{

    \centering
    \includegraphics[width=.95\textwidth]{ccsl-logo}
}

%%%%%%%% Quatro colunas %%%%%%%%
\posterbox[adjusted title = One fourth width]
          {name=quarterlogo, column=1, below=widelogo, span=3}{

    \centering
    \includegraphics[width=.9\textwidth]{ccsl-logo}
}

\posterbox[adjusted title = One fourth width]
          {column=4, below=widelogo, span=3}{

    \centering
    \includegraphics[width=.9\textwidth]{ccsl-logo}
}

\posterbox[adjusted title = One fourth width]
          {column=7, below=widelogo, span=3}{

    \centering
    \includegraphics[width=.9\textwidth]{ccsl-logo}
}

\posterbox[adjusted title = One fourth width]
          {column=10, below=widelogo, span=3}{

    \centering
    \includegraphics[width=.9\textwidth]{ccsl-logo}
}

\posterbox[adjusted title = Pangrams (half width)]
          {name=pangramdef,column=1, below=quarterlogo,span=6, rowspan=.9}{

    \begin{itemize}
      \item A \textbf{pangram} is a sentence using every letter of a given
            alphabet at least once.
      \item Pangrams have been used to:

      \begin{itemize}
        \item display typefaces
        \item test equipment
        \item develop skills in handwriting, calligraphy, and keyboarding
      \end{itemize}

    \end{itemize}
}

\posterbox[adjusted title = Examples of pangrams (half width)]
          {name=pangramexamples,below=pangramdef,column=1,span=6, rowspan=1.2}{

    \begin{itemize}
      \item In English

      \begin{itemize}
        \item The quick brown fox jumps over the lazy dog
        \item Sphinx of black quartz, judge my vow
        \item How vexingly quick daft zebras jump
        \item Pack my box with five dozen liquor jugs
      \end{itemize}

      \item In Portuguese

      \begin{itemize}
        \item Vejo xá gritando que fez show sem playback
        \item Já fiz vinho com toque de kiwi para belga sexy
        \item Dê já multa ao punk sexy que fez viação chegar à web
        \item Vejo galã sexy pôr quinze kiwis à força em baú achatado
      \end{itemize}

    \end{itemize}
}

\posterbox[adjusted title = The IME/USP logo (half width)]
          {name=halflogo,column=7, below=quarterlogo,span=6, rowspan=2.1}{

    \centering
    \includegraphics[width=.9\textwidth,trim=0 0 70 0,clip]{ime-logo}\par
}

%%%%%%% Colunas assimétricas %%%%%%%%

\makeatletter
\defbibenvironment{bibliography}
{\list
{\color{imeblue}\raisebox{.1em}{\@IMEcharscale{.26}{\ensuremath{\blacktriangleright}}}}
{\setlength{\leftmargin}{\bibhang}%
\setlength{\itemindent}{0pt}%
\setlength{\itemsep}{\bibitemsep}%
\setlength{\parsep}{\bibparsep}}}
{\endlist}
{\item}
\makeatother


\posterbox[adjusted title = Bibliography (assimetrical columns -- two thirds width), equal height group = bib-and-table]
          {name=bibliography,column=1, below=halflogo,span=8}{

    \nocite{FSF:GNU-GPL, MenaChalco08, biblatex}
    \printbibliography[heading=none]
}

\posterbox[adjusted title = A Table (one third width), equal height group = bib-and-table]
          {column=9, below=halflogo,span=4}{

    \begin{table}[H] % [H] é obrigatório com beamer!
      \centering
      \singlespacing\vspace{-\baselineskip}
      \begin{tabular}{ccl}
        \toprule
        Code        & Abbreviation & Name       \\
        \midrule
        \texttt{A}  & Ala          & Alanine    \\
        \texttt{C}  & Cys          & Cysteine   \\
        \texttt{W}  & Trp          & Tryptophan \\
        \texttt{Y}  & Tyr          & Tyrosine   \\
        \bottomrule
      \end{tabular}
    \end{table}
}

%%%%%%%% Três colunas %%%%%%%%
\posterbox[adjusted title = Sponsors (one third width)]
          {name=sponsors,column=1, between=bibliography and footer,span=4}{

    \centering
    \begin{figure}[H] % [H] é obrigatório com beamer!
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{.0972\baselineskip}{\includegraphics[height=.927\baselineskip]{fapesp-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{-.53496\baselineskip}{\includegraphics[height=2.16\baselineskip]{capes-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\includegraphics[height=1.08\baselineskip]{cnpq-logo}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
    \end{figure}
}

\posterbox[adjusted title = Sponsors (one third width)]
          {column=5, between=bibliography and footer,span=4}{

    \centering
    \begin{figure}[H] % [H] é obrigatório com beamer!
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{.0972\baselineskip}{\includegraphics[height=.927\baselineskip]{fapesp-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{-.53496\baselineskip}{\includegraphics[height=2.16\baselineskip]{capes-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\includegraphics[height=1.08\baselineskip]{cnpq-logo}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
    \end{figure}
}

\posterbox[adjusted title = Sponsors (one third width)]
          {column=9, between=bibliography and footer,span=4}{

    \centering
    \begin{figure}[H] % [H] é obrigatório com beamer!
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{.0972\baselineskip}{\includegraphics[height=.927\baselineskip]{fapesp-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\raisebox{-.53496\baselineskip}{\includegraphics[height=2.16\baselineskip]{capes-logo}}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
      \begin{subfigure}[c]{.3\textwidth}
        \centering
        %\includegraphics[height=1.08\baselineskip]{cnpq-logo}
        \includegraphics[width=.9\textwidth]{ccsl-logo}
      \end{subfigure}
    \end{figure}
}

\end{tcbposter}

\end{document}
